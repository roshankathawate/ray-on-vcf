---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.13.0
  name: vmraynodeconfigs.vmray.broadcom.com
spec:
  group: vmray.broadcom.com
  names:
    kind: VMRayNodeConfig
    listKind: VMRayNodeConfigList
    plural: vmraynodeconfigs
    singular: vmraynodeconfig
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: VMRayNodeConfig is the Schema for the vmraynodeconfigs API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: The configuration of the VMRayVirtualMachine
            properties:
              network:
                description: Network describes the desired network configuration for
                  the VM.
                properties:
                  disabled:
                    description: "Disabled is a flag that indicates whether or not
                      to disable networking for this VM. \n When set to true, the
                      VM is not configured with a default interface nor any specified
                      from the Interfaces field."
                    type: boolean
                  hostName:
                    description: "HostName is the value the guest uses as its host
                      name. If omitted then the name of the VM will be used. \n Please
                      note this feature is available only with the following bootstrap
                      providers: CloudInit, LinuxPrep, and Sysprep (except for RawSysprep).
                      \n When the bootstrap provider is Sysprep (except for RawSysprep)
                      this is used as the Computer Name."
                    type: string
                  interfaces:
                    description: "Interfaces is the list of network interfaces used
                      by this VM. \n If the Interfaces field is empty and the Disabled
                      field is false, then a default interface with the name eth0
                      will be created. \n The maximum number of network interface
                      allowed is 10 because of the limit built into vSphere."
                    items:
                      description: VirtualMachineNetworkInterfaceSpec describes the
                        desired state of a VM's network interface.
                      properties:
                        addresses:
                          description: "Addresses is an optional list of IP4 or IP6
                            addresses to assign to this interface. \n Please note
                            this field is only supported if the connected network
                            supports manual IP allocation. \n Please note IP4 and
                            IP6 addresses must include the network prefix length,
                            ex. 192.168.0.10/24 or 2001:db8:101::a/64. \n Please note
                            this field may not contain IP4 addresses if DHCP4 is set
                            to true or IP6 addresses if DHCP6 is set to true. \n Please
                            note if the Interfaces field is non-empty then this field
                            is ignored and should be specified on the elements in
                            the Interfaces list."
                          items:
                            type: string
                          type: array
                        dhcp4:
                          description: "DHCP4 indicates whether or not this interface
                            uses DHCP for IP4 networking. \n Please note this field
                            is only supported if the network connection supports DHCP.
                            \n Please note this field is mutually exclusive with IP4
                            addresses in the Addresses field and the Gateway4 field."
                          type: boolean
                        dhcp6:
                          description: "DHCP6 indicates whether or not this interface
                            uses DHCP for IP6 networking. \n Please note this field
                            is only supported if the network connection supports DHCP.
                            \n Please note this field is mutually exclusive with IP6
                            addresses in the Addresses field and the Gateway6 field."
                          type: boolean
                        gateway4:
                          description: "Gateway4 is the default, IP4 gateway for this
                            interface. \n Please note this field is only supported
                            if the network connection supports manual IP allocation.
                            \n If the network connection supports manual IP allocation
                            and the Addresses field includes at least one IP4 address,
                            then this field is required. \n Please note the IP address
                            must include the network prefix length, ex. 192.168.0.1/24.
                            \n Please note this field is mutually exclusive with DHCP4."
                          type: string
                        gateway6:
                          description: "Gateway6 is the primary IP6 gateway for this
                            interface. \n Please note this field is only supported
                            if the network connection supports manual IP allocation.
                            \n If the network connection supports manual IP allocation
                            and the Addresses field includes at least one IP6 address,
                            then this field is required. \n Please note the IP address
                            must include the network prefix length, ex. 2001:db8:101::1/64.
                            \n Please note this field is mutually exclusive with DHCP6."
                          type: string
                        guestDeviceName:
                          description: GuestDeviceName is used to rename the device
                            inside the guest when the bootstrap provider is Cloud-Init.
                            Please note it is up to the user to ensure the provided
                            device name does not conflict with any other devices inside
                            the guest, ex. dvd, cdrom, sda, etc.
                          pattern: ^\w\w+$
                          type: string
                        mtu:
                          description: "MTU is the Maximum Transmission Unit size
                            in bytes. \n Please note this feature is available only
                            with the following bootstrap providers: CloudInit."
                          format: int64
                          type: integer
                        name:
                          description: "Name describes the unique name of this network
                            interface, used to distinguish it from other network interfaces
                            attached to this VM. \n When the bootstrap provider is
                            Cloud-Init and GuestDeviceName is not specified, the device
                            inside the guest will be renamed to this value. Please
                            note it is up to the user to ensure the provided name
                            does not conflict with any other devices inside the guest,
                            ex. dvd, cdrom, sda, etc."
                          pattern: ^[a-z0-9]{2,}$
                          type: string
                        nameservers:
                          description: "Nameservers is a list of IP4 and/or IP6 addresses
                            used as DNS nameservers. \n Please note this feature is
                            available only with the following bootstrap providers:
                            CloudInit and Sysprep. \n Please note that Linux allows
                            only three nameservers (https://linux.die.net/man/5/resolv.conf)."
                          items:
                            type: string
                          type: array
                        network:
                          description: "Network is the name of the network resource
                            to which this interface is connected. \n If no network
                            is provided, then this interface will be connected to
                            the Namespace's default network."
                          properties:
                            apiVersion:
                              description: 'APIVersion defines the versioned schema
                                of this representation of an object. Servers should
                                convert recognized schemas to the latest internal
                                value, and may reject unrecognized values. More info:
                                https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
                              type: string
                            kind:
                              description: 'Kind is a string value representing the
                                REST resource this object represents. Servers may
                                infer this from the endpoint the client submits requests
                                to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
                              type: string
                            name:
                              description: 'Name refers to a unique resource in the
                                current namespace. More info: http://kubernetes.io/docs/user-guide/identifiers#names'
                              type: string
                          required:
                          - name
                          type: object
                        routes:
                          description: "Routes is a list of optional, static routes.
                            \n Please note this feature is available only with the
                            following bootstrap providers: CloudInit."
                          items:
                            description: VirtualMachineNetworkRouteSpec defines a
                              static route for a guest.
                            properties:
                              metric:
                                description: Metric is the weight/priority of the
                                  route.
                                format: int32
                                type: integer
                              to:
                                description: To is an IP4 or IP6 address.
                                type: string
                              via:
                                description: Via is an IP4 or IP6 address.
                                type: string
                            required:
                            - metric
                            - to
                            - via
                            type: object
                          type: array
                        searchDomains:
                          description: "SearchDomains is a list of search domains
                            used when resolving IP addresses with DNS. \n Please note
                            this feature is available only with the following bootstrap
                            providers: CloudInit."
                          items:
                            type: string
                          type: array
                      required:
                      - name
                      type: object
                    maxItems: 10
                    type: array
                    x-kubernetes-list-map-keys:
                    - name
                    x-kubernetes-list-type: map
                  nameservers:
                    description: "Nameservers is a list of IP4 and/or IP6 addresses
                      used as DNS nameservers. These are applied globally. \n Please
                      note global nameservers are only available with the following
                      bootstrap providers: LinuxPrep and Sysprep. The Cloud-Init bootstrap
                      provider supports per-interface nameservers. \n Please note
                      that Linux allows only three nameservers (https://linux.die.net/man/5/resolv.conf)."
                    items:
                      type: string
                    type: array
                  searchDomains:
                    description: "SearchDomains is a list of search domains used when
                      resolving IP addresses with DNS. These are applied globally.
                      \n Please note global search domains are only available with
                      the following bootstrap providers: LinuxPrep and Sysprep. The
                      Cloud-Init bootstrap provider supports per-interface search
                      domains."
                    items:
                      type: string
                    type: array
                type: object
              nfs:
                description: The NFS location that should be mounted to the Ray nodes.
                type: string
              storage_class:
                description: Storage class associated with for a specific namespace
                  in supervisor cluster.
                type: string
              vm_class:
                description: The VM class for Ray nodes
                type: string
              vm_image:
                description: Name of VirtualMachineImage of type ovf used to create
                  ray nodes i.e. mapped against content library item.
                type: string
              vm_password_salt_hash:
                description: Value of password's SHA-512 salt hash to be set for provided
                  user name in ray VM.
                type: string
              vm_user:
                description: Name of user space that we should create to run Ray Process
                  in VM.
                type: string
            required:
            - storage_class
            - vm_class
            - vm_image
            - vm_password_salt_hash
            - vm_user
            type: object
          status:
            description: The current status of the VMRayVirtualMachine
            properties:
              Valid:
                description: Valid represents if nodeconfig CR is of valid state.
                type: boolean
              conditions:
                description: Conditions describes the observed conditions of the VMRayNodeConfig.
                items:
                  description: "Condition contains details for one aspect of the current
                    state of this API Resource. --- This struct is intended for direct
                    use as an array at the field path .status.conditions.  For example,
                    \n type FooStatus struct{ // Represents the observations of a
                    foo's current state. // Known .status.conditions.type are: \"Available\",
                    \"Progressing\", and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                    // +listType=map // +listMapKey=type Conditions []metav1.Condition
                    `json:\"conditions,omitempty\" patchStrategy:\"merge\" patchMergeKey:\"type\"
                    protobuf:\"bytes,1,rep,name=conditions\"` \n // other fields }"
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                        --- Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important. The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
